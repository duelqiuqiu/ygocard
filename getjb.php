<?php
function getjb($id){
$db=new pdo('sqlite:db/cards.db');
$sql=$db->query('SELECT level,race,atk,def,attribute,type FROM datas where id IN ('.$id.')');
$jb=$sql->fetchAll();
if($jb[0][attribute]==1){
$att="地";
}elseif($jb[0][attribute]==2){
$att="水";
}elseif($jb[0][attribute]==4){
$att="炎";
}elseif($jb[0][attribute]==8){
$att="风";
}elseif($jb[0][attribute]==16){
$att="光";
}elseif($jb[0][attribute]==32){
$att="暗";
}elseif($jb[0][attribute]==64){
$att="神";
}
if($jb[0][type]==17){
$ty="通常怪兽";
}elseif($jb[0][type]==33){
$ty="效果怪兽";
}elseif($jb[0][type]==4129){
$ty="调整/效果怪兽";
}elseif($jb[0][type]==4113){
$ty="调整/通常怪兽";
}elseif($jb[0][type]==12321){
$ty="调整/同调怪兽";
}elseif($jb[0][type]==2101281){
$ty="调整/反转怪兽";
}elseif($jb[0][type]==25165857){
$ty="灵摆/超量/效果怪兽";
}elseif($jb[0][type]==545){
$ty="灵魂怪兽";
}elseif($jb[0][type]==1800){
$ty="同盟怪兽";
}elseif($jb[0][type]==2097185){
$ty="反转怪兽";
}elseif($jb[0][type]==2081){
$ty="二重怪兽";
}elseif($jb[0][type]==16777249){
$ty="摇摆怪兽";
}elseif($jb[0][type]==16777233){
$ty="摇摆/通常怪兽";
}elseif($jb[0][type]==97){
$ty="融合怪兽";
}elseif($jb[0][type]==65){
$ty="非效果/融合怪兽";
}elseif($jb[0][type]==8225){
$ty="同调怪兽";
}elseif($jb[0][type]==8193){
$ty="非效果/同调怪兽";
}elseif($jb[0][type]==8388641){
$ty="超量怪兽";
}elseif($jb[0][type]==8388609){
$ty="非效果/超量怪兽";
}elseif($jb[0][type]==161){
$ty="仪式怪兽";
}elseif($jb[0][type]==16401){
$ty="衍生物";
}elseif($jb[0][type]==2){
$ty="通常魔法";
}elseif($jb[0][type]==65538){
$ty="速攻魔法";
}elseif($jb[0][type]==131074){
$ty="永续魔法";
}elseif($jb[0][type]==262146){
$ty="装备魔法";
}elseif($jb[0][type]==130){
$ty="仪式魔法";
}elseif($jb[0][type]==524290){
$ty="场地魔法";
}elseif($jb[0][type]==4){
$ty="通常陷阱";
}elseif($jb[0][type]==131076){
$ty="永续陷阱";
}elseif($jb[0][type]==1048580){
$ty="反击陷阱";
}
if($jb[0][race]==8192){
$zz="龙族";
}elseif($jb[0][race]==524288){
$zz="爬虫类族";
}elseif($jb[0][race]==2){
$zz="魔法师族";
}elseif($jb[0][race]==1){
$zz="战士族";
}elseif($jb[0][race]==32){
$zz="机械族";
}elseif($jb[0][race]==8){
$zz="恶魔族";
}elseif($jb[0][race]==16384){
$zz="兽族";
}elseif($jb[0][race]==4){
$zz="天使族";
}elseif($jb[0][race]==65536){
$zz="恐龙族";
}elseif($jb[0][race]==262144){
$zz="海龙族";
}elseif($jb[0][race]==256){
$zz="岩石族";
}elseif($jb[0][race]==32768){
$zz="兽战士族";
}elseif($jb[0][race]==128){
$zz="炎族";
}elseif($jb[0][race]==131072){
$zz="鱼族";
}elseif($jb[0][race]==64){
$zz="水族";
}elseif($jb[0][race]==512){
$zz="鸟兽族";
}elseif($jb[0][race]==1024){
$zz="植物族";
}elseif($jb[0][race]==4096){
$zz="雷族";
}elseif($jb[0][race]==2048){
$zz="昆虫族";
}elseif($jb[0][race]==16){
$zz="不死族";
}elseif($jb[0][race]==1048576){
$zz="念动力族";
}elseif($jb[0][race]==4194304){
$zz="创造神族";
}elseif($jb[0][race]==2097152){
$zz="幻神兽族";
}elseif($jb[0][race]==8388608){
$zz="幻龙族";
}
$ms=array(17,33,4129,4113,12321,545,1800,97,65,8225,8193,8388641,8388609,161,2097185,2081,16401,16777249,16777233,2101281);
echo '种类：'.$ty;
if(in_array($jb[0][type],$ms))
{
if($jb[0][type]==8388641){
echo '<br>阶级：'.$jb[0][level];
}else{
$lv=dechex($jb[0][level]);
$lv=str_split($lv);
$lv=$lv[count($lv)-1];
$lv=hexdec($lv);
echo '<br>等级：'.$lv;
}
echo '<br>属性：'.$att.'<br>种族：'.$zz;
if($jb[0][atk]==-2 || $jb[0][def]==-2){
echo '<br>攻击力：?<br>防御力：?';
}else{
echo '<br>攻击力：'.$jb[0][atk].'<br>防御力：'.$jb[0][def];
}
}else{
echo '';
}
}
?>
